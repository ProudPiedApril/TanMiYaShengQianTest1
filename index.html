<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>传说故事</title>
    <style>
        /* 基本样式 */
        body, html {
            height: 100%;
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }

        .page {
            position: absolute;
            width: 100%;
            height: 100%;
            display: none;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }

        .show {
            display: flex;
        }

        .page img {
            position: absolute;
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
        }

        /* 加载页 */
        #loadingPage {
            background: url('img/探秘压胜钱图片/加载页 背景.png') no-repeat center center;
            background-size: contain;
        }

        #loadingPage #coin {
            top: 10%;
            left: 50%;
            transform: translateX(-50%);
        }

        #loadingPage #wave {
            top: 20%;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0.5;
        }

        /* 初始页 */
        #initialPage {
            background: url('img/探秘压胜钱图片/初始页 背景.png') no-repeat center center;
            background-size: contain;
        }

        #initialPage #startBtn {
            top:100%;
            left: 45%;
			transform: scale(0.75) translateY(75%);
            
        }

        /* 引导页 */
        #guidePage1 {
            background: url('img/探秘压胜钱图片/引导页1.png') no-repeat center center;
            background-size: contain;
        }

        /* 传说故事1 */
        #story1Page {
            background: url('img/探秘压胜钱图片/传说故事1 背景.png') no-repeat center center;
            background-size: contain;
        }

        #story1Page #story1Char {
            top: 30%;
            left: 50%;
            transform: translateX(-50%);
            display: none;
        }

        /* 传说故事2 */
        #story2Page {
            background: url('img/探秘压胜钱图片/传说故事2 背景.png') no-repeat center center;
            background-size: contain;
        }

        #story2Page #story2Char {
            top: 30%;
            left: 50%;
            transform: translateX(-50%);
            display: none;
        }

        #story2Page #story2Popup {
            top: 40%;
            left: 50%;
            transform: translateX(-50%);
            display: none;
        }

        /* 小互动 */
        #interactivePage {
            background: url('img/探秘压胜钱图片/小互动 背景.png') no-repeat center center;
            background-size: contain;
        }

        #interactivePage #pressMoney {
            top: 40%;
            left: 30%;
			transform: translateX(50%)
        }

        #interactivePage #redCloth {
            top: 40%;
            left: 60%;
			transform: translateX(-150%);
        }

        #interactivePage #interactiveCompleted {
            top: 60%;
            left: 50%;
            transform: translateX(-50%);
            display: none;
        }

        /* 分享页 */
        #sharePage {
            background: url('img/探秘压胜钱图片/分享页.png') no-repeat center center;
            background-size: contain;
        }

        /* 响应式设计 - 针对手机和小屏幕设备 */
        @media (max-width: 768px) {
            .page img {
                max-width: 90%;
                max-height: 90%;
            }

            /* 加载页中的铜钱和水波位置调整 */
            #loadingPage #coin {
                top: 15%;
            }

            #loadingPage #wave {
                top: 25%;
            }

            /* 初始页按钮 */
            #initialPage #startBtn {
                top: 100%;
            }

            /* 传说故事页面元素位置调整 */
            #story1Page #story1Char,
            #story2Page #story2Char,
            #story2Page #story2Popup {
                top: 25%;
            }

            #interactivePage #pressMoney {
                top: 45%;
                left: 25%;
            }

            #interactivePage #redCloth {
                top: 45%;
                left: 75%;
            }

            #interactivePage #interactiveCompleted {
                top: 70%;
            }
        }

        /* 响应式设计 - 针对平板电脑 */
        @media (min-width: 769px) and (max-width: 1024px) {
            .page img {
                max-width: 80%;
                max-height: 80%;
            }

            #loadingPage #coin {
                top: 12%;
            }

            #loadingPage #wave {
                top: 22%;
            }

            #initialPage #startBtn {
                top: 72%;
            }

            #story1Page #story1Char,
            #story2Page #story2Char,
            #story2Page #story2Popup {
                top: 28%;
            }

            #interactivePage #pressMoney {
                top: 42%;
                left: 28%;
            }

            #interactivePage #redCloth {
                top: 42%;
                left: 72%;
            }

            #interactivePage #interactiveCompleted {
                top: 68%;
            }
        }

        /* 响应式设计 - 针对桌面设备 */
        @media (min-width: 1025px) {
            .page img {
                max-width: 70%;
                max-height: 70%;
            }

            #loadingPage #coin {
                top: 8%;
            }

            #loadingPage #wave {
                top: 18%;
            }

            #initialPage #startBtn {
                top: 68%;
            }

            #story1Page #story1Char,
            #story2Page #story2Char,
            #story2Page #story2Popup {
                top: 30%;
            }

            #interactivePage #pressMoney {
                top: 40%;
                left: 25%;
            }

            #interactivePage #redCloth {
                top: 40%;
                left: 75%;
            }

            #interactivePage #interactiveCompleted {
                top: 60%;
            }
        }
    </style>
</head>
<body>
    <!-- 加载页 -->
    <div id="loadingPage" class="page show">
        <img id="coin" src="img/探秘压胜钱图片/加载页 掉落的铜钱.png" alt="掉落的铜钱">
        <img id="wave" src="img/探秘压胜钱图片/加载页 水波.png" alt="水波">
        <div id="progress">加载中...</div>
    </div>

    <!-- 初始页 -->
    <div id="initialPage" class="page">
        
        <img id="startBtn" src="img/探秘压胜钱图片/初始页 开始按钮.png" alt="开始按钮">
    </div>

    <!-- 引导页 -->
    <div id="guidePage1" class="page">
        
    </div>

    <!-- 传说故事1 -->
    <div id="story1Page" class="page">
        
        <img id="story1Char" src="img/探秘压胜钱图片/传说故事1人物.png" alt="人物" style="display: none;">
    </div>

    <!-- 传说故事2 -->
    <div id="story2Page" class="page">
        
        <img id="story2Char" src="img/探秘压胜钱图片/传说故事2人物.png" alt="人物" style="display: none;">
        <img id="story2Popup" src="img/探秘压胜钱图片/传说故事2弹窗.png" alt="弹窗" style="display: none;">
    </div>

    <!-- 小互动 -->
    <div id="interactivePage" class="page">
        
        <img id="pressMoney" src="img/探秘压胜钱图片/小互动 压胜钱.png" alt="压胜钱" draggable="true">
        <img id="redCloth" src="img/探秘压胜钱图片/小互动 红帕子.png" alt="红帕子">
        <img id="interactiveCompleted" src="img/探秘压胜钱图片/小互动 完成.png" alt="完成">
    </div>

    <!-- 分享页 -->
    <div id="sharePage" class="page">
        
    </div>

    <script>
        // 页面切换功能
        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(page => page.classList.remove('show'));
            document.getElementById(pageId).classList.add('show');
        }

        // 加载页到初始页
        setTimeout(() => {
            showPage('initialPage');
        }, 3000); // 3秒后跳转

        // 初始页按钮
        document.getElementById('startBtn').onclick = () => {
            showPage('guidePage1');
        };

        // 引导页1跳转到传说故事1
        document.getElementById('guidePage1').onclick = () => {
            showPage('story1Page');
        };

        // 传说故事1显示人物并跳转到故事2
        document.getElementById('story1Page').onclick = () => {
            document.getElementById('story1Char').style.display = 'block';
            setTimeout(() => showPage('story2Page'), 1000);
        };

        // 传说故事2显示人物、弹窗并跳转到小互动
        document.getElementById('story2Page').onclick = () => {
            if (document.getElementById('story2Char').style.display === 'none') {
                document.getElementById('story2Char').style.display = 'block';
            } else if (document.getElementById('story2Popup').style.display === 'none') {
                document.getElementById('story2Popup').style.display = 'block';
            } else {
                showPage('interactivePage');
            }
        };

        // 小互动拖动事件
        let pressMoney = document.getElementById('pressMoney');
        let redCloth = document.getElementById('redCloth');
        pressMoney.ondragstart = (e) => e.dataTransfer.setData("text", e.target.id);
        redCloth.ondragover = (e) => e.preventDefault();
        redCloth.ondrop = (e) => {
            e.preventDefault();
            document.getElementById('pressMoney').style.display = 'none';
            document.getElementById('redCloth').style.display = 'none';
            document.getElementById('interactiveCompleted').style.display = 'block';
        };

        // 小互动完成后跳转到分享页
        document.getElementById('interactiveCompleted').onclick = () => {
            showPage('sharePage');
        };
    </script>
</body>
</html>
